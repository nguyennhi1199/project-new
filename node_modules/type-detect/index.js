/* !
 * type-detect
 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
const promiseExists = typeof Promise === 'function';

/* eslint-disable no-undef */
const globalObject = typeof self === 'object' ? self : global; // eslint-disable-line id-blacklist

const symbolExists = typeof Symbol !== 'undefined';
const mapExists = typeof Map !== 'undefined';
const setExists = typeof Set !== 'undefined';
const weakMapExists = typeof WeakMap !== 'undefined';
const weakSetExists = typeof WeakSet !== 'undefined';
const dataViewExists = typeof DataView !== 'undefined';
const symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';
const symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';
const setEntriesExists = setExists && typeof Set.prototype.entries === 'function';
const mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';
const setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());
const mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());
const arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';
const arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());
const stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';
const stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(''[Symbol.iterator]());
const toStringLeftSliceLength = 8;
const toStringRightSliceLength = -1;
/**
 * ### typeOf (obj)
 *
 * Uses `Object.prototype.toString` to determine the type of an object,
 * normalising behaviour across engine versions & well optimised.
 *
 * @param {Mixed} object
 * @return {String} object type
 * @api public
 */
export default function typeDetect(obj) {
  /* ! Speed optimisation
   * Pre:
   *   string literal     x 3,039,035 ops/sec Â±1.62% (78 runs sampled)
   *   boolean literal    x 1,424,138 ops/sec Â±4.54% (75 runs sampled)
   *   number literal     x 1,653,153 ops/sec Â±1.91% (82 runs sampled)
   *   undefined          x 9,978,660 ops/sec Â±1.92% (75 runs sampled)
   *   function           x 2,556,769 ops/sec Â±1.73% (77 runs sampled)
   * Post:
   *   string literal     x 38,564,796 ops/sec Â±1.15% (79 runs sampled)
   *   boolean literal    x 31,148,940 ops/sec Â±1.10% (79 runs sampled)
   *   number literal     x 32,679,330 ops/sec Â±1.90% (78 runs sampled)
   *   undefined          x 32,363,368 ops/sec Â±1.07% (82 runs sampled)
   *   function           x 31,296,870 ops/sec Â±0.96% (83 runs sampled)
   */
  const typeofObj = typeof obj;
  if (typeofObj !== 'object') {
    return typeofObj;
  }

  /* ! Speed optimisation
   * Pre:
   *   null               x 28,645,765 ops/sec Â±1.17% (82 runs sampled)
   * Post:
   *   null               x 36,428,962 ops/sec Â±1.37% (84 runs sampled)
   */
  if (obj === null) {
    return 'null';
  }

  /* ! Spec Conformance
   * Test: `Object.prototype.toString.call(window)``
   *  - Node === "[object global]"
   *  - Chrome === "[object global]"
   *  - Firefox === "[object Window]"
   *  - PhantomJS === "[object Window]"
   *  - Safari === "[object Window]"
   *  - IE 11 === "[object Window]"
   *  - IE Edge === "[object Window]"
   * Test: `Object.prototype.toString.call(this)``
   *  - Chrome Worker === "[object global]"
   *  - Firefox Worker === "[object DedicatedWorkerGlobalScope]"
   *  - Safari Worker === "[object DedicatedWorkerGlobalScope]"
   *  - IE 11 Worker === "[object WorkerGlobalScope]"
   *  - IE Edge Worker === "[object WorkerGlobalScope]"
   */
  if (obj === globalObject) {
    return 'global';
  }

  /* ! Speed optimisation
   * Pre:
   *   array literal      x 2,888,352 ops/sec Â±0.67% (82 runs sampled)
   * Post:
   *   array literal      x 22,479,650 ops/sec Â±0.96% (81 runs sampled)
   */
  if (
    Array.isArray(obj) &&
    (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))
  ) {
    return 'Array';
  }

  // Not caching existence of `window` and related properties due to potential
  // for `window` to be unset before tests in quasi-browser environments.
  if (typeof window === 'object' && window !== null) {
    /* ! Spec Conformance
     * (https://html.spec.whatwg.org/multipage/browsers.html#location)
     * WhatWG HTML$7.7.3 - The `Location` interface
     * Test: `Object.prototype.toString.call(window.location)``
     *  - IE <=11 === "[object Object]"
     *  - IE Edge <=13 === "[object Object]"
     */
    if (typeof window.location === 'object' && obj === window.location) {
      return 'Location';
    }

    /* ! Spec Conformance
     * (https://html.spec.whatwg.org/#document)
     * WhatWG HTML$3.1.1 - The `Document` object
     * Note: Most browsers currently adher to the W3C DOM Level 2 spec
     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)
     *       which suggests that browsers should use HTMLTableCellElement for
     *       both TD and TH elements. WhatWG separates these.
     *       WhatWG HTML states:
     *         > For historical reasons, Window objects must also have a
     *         > writable, configurable, non-enumerable property named
     *         > HTMLDocument whose value is the Document interface object.
     * Test: `Object.prototype.toString.call(document)``
     *  - Chrome === "[object HTMLDocument]"
     *  - Firefox === "[object HTMLDocument]"
     *  - Safari === "[object HTMLDocument]"
     *  - IE <=10 === "[object Document]"
     *  - IE 11 === "[object HTMLDocument]"
     *  - IE Edge <=13 === "[object HTMLDocument]"
     */
    if (typeof window.document === 'object' && obj === window.document) {
      return 'Document';
    }

    if (typeof window.navigator === 'object') {
      /* ! Spec Conformance
       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)
       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray
       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``
       *  - IE <=10 === "[object MSMimeTypesCollection]"
       */
      if (typeof window.navigator.mimeTypes === 'object' &&
          obj === window.navigator.mimeTypes) {
        return 'MimeTypeArray';
      }

      /* ! Spec Conformance
       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)
       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray
       * Test: `Object.prototype.toString.call(navigator.plugins)``
       *  - IE <=10 === "[object MSPluginsCollection]"
       */
      if (typeof window.navigator.plugins === 'object' &&
          obj === window.navigator.plugins) {
        return 'PluginArray';
      }
    }

    if ((typeof window.HTMLElement === 'function' ||
        typeof window.HTMLElement === 'object') &&
        obj instanceof window.HTMLElement) {
      /* ! Spec Conformance
      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)
      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`
      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``
      *  - IE <=10 === "[object HTMLBlockElement]"
      */
      if (obj.tagName === 'BLOCKQUOTE') {
        return 'HTMLQuoteElement';
      }

      /* ! Spec Conformance
       * (https://html.spec.whatwg.org/#htmltabledatacellelement)
       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`
       * Note: Most browsers currently adher to the W3C DOM Level 2 spec
       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)
       *       which suggests that browsers should use HTMLTableCellElement for
       *       both TD and TH elements. WhatWG separates these.
       * Test: Object.prototype.toString.call(document.createElement('td'))
       *  - Chrome === "[object HTMLTableCellElement]"
       *  - Firefox === "[object HTMLTableCellElement]"
       *  - Safari === "[object HTMLTableCellElement]"
       */
      if (obj.tagName === 'TD') {
        return 'HTMLTableDataCellElement';
      }

      /* ! Spec Conformance
       * (https://html.spec.whatwg.org/#htmltableheadercellelement)
       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`
       * Note: Most browsers currently adher to the W3C DOM Level 2 spec
       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)
       *       which suggests that browsers should use HTMLTableCellElement for
       *       both TD and TH elements. WhatWG separates these.
       * Test: Object.prototype.toString.call(document.createElement('th'))
       *  - Chrome === "[object HTMLTableCellElement]"
       *  - Firefox === "[object HTMLTableCellElement]"
       *  - Safari === "[object HTMLTableCellElement]"
       */
      if (obj.tagName === 'TH') {
        return 'HTMLTableHeaderCellElement';
      }
    }
  }

  /* ! Speed optimisation
  * Pre:
  *   Float64Array       x 625,644 ops/sec Â±1.58% (80 runs sampled)
  *   Float32Array       x 1,279,852 ops/sec Â±2.91% (77 runs sampled)
  *   Uint32Array        x 1,178,185 ops/sec Â±1.95% (83 runs sampled)
  *   Uint16Array        x 1,008,380 ops/sec Â±2.25% (80 runs sampled)
  *   Uint8Array         x 1,128,040 ops/sec Â±2.11% (81 runs sampled)
  *   Int32Array         x 1,170,119 ops/sec Â±2.88% (80 runs sampled)
  *   Int16Array         x 1,176,348 ops/sec Â±5.79% (86 runs sampled)
  *   Int8Array          x 1,058,707 ops/sec Â±4.94% (77 runs sampled)
  *   Uint8ClampedArray  x 1,110,633 ops/sec Â±4.20% (80 runs sampled)
  * Post:
  *   Float64Array       x 7,105,671 ops/sec Â±13.47% (64 runs sampled)
  *   Float32Array       x 5,887,912 ops/sec Â±1.46% (82 runs sampled)
  *   Uint32Array        x 6,491,661 ops/sec Â±1.76% (79 runs sampled)
  *   Uint16Array        x 6,559,795 ops/sec Â±1.67% (82 runs sampled)
  *   Uint8Array         x 6,463,966 ops/sec Â±1.43% (85 runs sampled)
  *   Int32Array         x 5,641,841 ops/sec Â±3.49% (81 runs sampled)
  *   Int16Array         x 6,583,511 ops/sec Â±1.98% (80 runs sampled)
  *   Int8Array          x 6,606,078 ops/sec Â±1.74% (81 runs sampled)
  *   Uint8ClampedArray  x 6,602,224 ops/sec Â±1.77% (83 runs sampled)
  */
  const stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);
  if (typeof stringTag === 'string') {
    return stringTag;
  }

  const objPrototype = Object.getPrototypeOf(obj);
  /* ! Speed optimisation
  * Pre:
  *   regex literal      x 1,772,385 ops/sec Â±1.85% (77 runs sampled)
  *   regex constructor  x 2,143,634 ops/sec Â±2.46% (78 runs sampled)
  * Post:
  *   regex literal      x 3,928,009 ops/sec Â±0.65% (78 runs sampled)
  *   regex constructor  x 3,931,108 ops/sec Â±0.58% (84 runs sampled)
  */
  if (objPrototype === RegExp.prototype) {
    return 'RegExp';
  }

  /* ! Speed optimisation
  * Pre:
  *   date               x 2,130,074 ops/sec Â±4.42% (68 runs sampled)
  * Post:
  *   date               x 3,953,779 ops/sec Â±1.35% (77 runs sampled)
  */
  if (objPrototype === Date.prototype) {
    return 'Date';
  }

  /* ! Spec Conformance
   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)
   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be "Promise":
   * Test: `Object.prototype.toString.call(Promise.resolve())``
   *  - Chrome <=47 === "[object Object]"
   *  - Edge <=20 === "[object Object]"
   *  - Firefox 29-Latest === "[object Promise]"
   *  - Safari 7.1-Latest === "[object Promise]"
   */
  if (promiseExists && objPrototype === Promise.prototype) {
    return 'Promise';
  }

  /* ! Speed optimisation
  * Pre:
  *   set                x 2,222,186 ops/sec Â±1.31% (82 runs sampled)
  * Post:
  *   set                x 4,545,879 ops/sec Â±1.13% (83 runs sampled)
  */
  if (setExists && objPrototype === Set.prototype) {
    return 'Set';
  }

  /* ! Speed optimisation
  * Pre:
  *   map                x 2,396,842 ops/sec Â±1.59% (81 runs sampled)
  * Post:
  *   map                x 4,183,945 ops/sec Â±6.59% (82 runs sampled)
  */
  if (mapExists && objPrototype === Map.prototype) {
    return 'Map';
  }

  /* ! Speed optimisation
  * Pre:
  *   weakset            x 1,N„5hş*¤hş¶ãKÃåèÖ¶×Ô!`ò‚&Ë=™õ<ñÙ;o88ûÏ¦cú2Õ'2<¦tàvÿÆ2”áÿı£éàŸ©ñ^_*¡:,TDæZ)çM$sS‚î‰Tu±Ùš¼üÏj°í—DX°i>æ3}4±_Ù0Ø½\lH¶Œxï¬$QŒ<,³‹ín1¹%Oç¬7Âæ*}ûÛ›&/«éÛ”ò$—õ•‰]?,%”ü„ÅyİÖ$‘3ä–O“I,VqŞ`ÎºˆáĞ¡íÙCîÂ0­´×ÈÒzUGmwK×ò3Úş.VeA8‹›4ödoÈ§å:»¨3}ŸâŸaÚÊ‚ïA%K¤¶*ì·¹#ìm{	ÔtYoáÅ]>ÓçY°HtYi;Èƒ\IŞH(Dt´#Å”5E-™Š=ˆuCî °¢»Ü¬ód‰TZ-R”)/?±£¾®“uõWFK¥É…¸¼Ûür¥Èî)
AcÒœ¬Ñ«³4$-X ù
Ã¢gbj².ûòÏÓ–ü‚ŒõEÜ1Á™ïkÓ¶¤İû~rÂ÷³æ("U( gÉ}„’#7µÔ=òHb*J¤ÄÏ¶R%¹¶šx²Ãû«ÍHúü6,å<!‚Ìç[aTiVŒ—Ä™ÈÙÕvtÇÈqõ7~ÑŸfo™¢; HéôEÀ*ç´Ê¸‹ré¤•‡ú¼óWÏg1ËT!…¬ÄŠÿÙş¿wLè|E\¸¶/¸ÿø©ÿÓ_kôÆÏ€"ëOg{BºZxC9†®-Xå"Ò_ÛÇFèXàÑ{G„[& ÇmI_¹	@fãgª-Û(÷÷Î¬‹œ÷äÜ´µ`úF«u¥ÔåLwÍƒ4X/*—,ôÈg1‚OŒV˜®f2üÚ<Ïäga	q®`¯ÛW^z®ø ª¨ ƒ]uùo!æ¾{4‹ô$	¬P|E§·e}óBğBu<Iz=öC4 	^^ĞE‡47=Ü4]u$nŠ~e¨ƒnì,Ù§QªqïIÛ÷dğP¥ÕÏgÏmI`A®ÇîbúãÚÖ‘¿Âÿ˜§¨ò}ªÖÍ%Û©92-‚¦ºC” )ÏS*|]pİi¼eŸ1Êdzù3ª4Ş%^ñhª£wÉ(P	]UW&¦Ì&ç£9éù¬@|{t€cé´¥iŠ$ˆ‰ÇøÇaµØ4­äMMæ%!E»éoúßÍ–>$4 A‘|
.\½ç0ù„FÊø|<ö3À_:7ö-dÍX$P,†ºXà+šzU¬¢âë‹?>DÛ–€º??ù¯/ÒñÉš*è|¢¶,óçU1DÄn#ûÈ¼€][#„ÙjK6œ9øî?¸ÿs›—3ûFnÆpÍÉz‹Á{P3Şv«Æ‡ŠˆÃƒáÆ”;Xì•î[lÃ¯f´hxº”ŠVâuj	†bÃÔLAœëo/J;±§Îf´ÊXíàõ:r•géLûúë©9S,Ò¢ÛL;I~Ø¦ïPOWªÅjí*ºrz@Îçxs*´@ªHû<Üï
e„”İ2G¢5$wÈ4úÏúÔílç
Ÿ½Ïutà•âc˜Û#Eão¡¼9Æ+oÃİ¼¢LI÷m°Äşı¸ªEN¡¦[İDƒqû{Äs’©¤pGŒ!i‰j™ÖÛğZú¿‡çi¯ºPMr_TSs™–›»!]sËª0õˆğ¬ìh9†»Éã»48ÍeoG_èq­ã™c6ßhÜÊ•kèlæüá’Úw "Á†ø<{³‚¸ïáõk,“<òíî¬ÚÍoIi§íßÂpîg)5OEt«D§¤²²¦ª_©Ï`ãBˆŸ“<\BJ$‚8ÿ¡hñ	gWÑƒ¥´,•Œp¾9¾Üõèp½VSî²F! å±
¡‡»5^eRZĞ¨©²¥M}ûG)K_¢bÆåHè?ùNL#Ø˜äbœEzgy)šˆ"ğuT’Ê%ı|uÊ™iŒ¥´èu¾(Ğ¤Øôc)ş”‡»§é;Š™"³5BPµ¤†ÀuZ]ÀË‹ñ§	®¯VpOšFZn‰}ş
gïƒYƒMl=–l[¼ñœñò°CÜ†wşfx»¨ÒºÜ;r+Å±RòÛ§bnÏyúYÕHèBó¼îQ]úÜ-«Zãlöó0Ç?mÿ"á¨J±¼÷Éö®¥º={=šşï(ÁÑBM8`U'B“Ì¥èŒ®•Kª8¤q+'Ñü®nÜkÅ ½şŒûOÕÔ)á„2*ñHuy)éÈÊ³>IJ<ÏÂ„ÄCão=wø*èfP§R#ÅQ²Ú+F cèÛ|›”`·´êê9ykæ&áòb,èÑtÏˆ×I†óØL3oíâx³4Ñl¡—N…ıå ¯	ë•&¿»ÑZ¿õ ´—+ù'`É2íÍÈ±õÈ?–t|f¥ƒG¶-§D6Á¬¸wµ§$™`EÜJ™UÂ£ñÂ¼¾¡¹vğ.†[‘Ä+p3Nù\°T°Ú"’\VÛQ:CÓ~º1†dÚú-gìš~÷w½¥zGuCİÑÈ?][Zi³8óú¿š1áä†í0“bî’rø´LºFÑÓú/œ˜ºm%_“êŸÓôì/Oˆ¯¹ŒÑ±_¤‡-¢Åô
8¶†ÿ[¾şÑ;SYÆo0f3+·\}çƒ`îu%W'{`G^ˆÓÕÅ³·«Ò\®Ï§×ÏŠ.ÅõòÔñØk5.ÓÆânŒäz'¾Il#?ŸˆÂ¡v¾Âƒˆ*iêUœY¯ùÂG­ëPƒ¦4™ÔXşaR”­éåÂ„ŞŠŸÅ€ÄA%ÌâÆŞ³µÒHßwÈætS8G¹¤
ÙÎcÂWs‘E‘÷sM‚F± ¼°ê¦o"öE^šÌ7ÃÈU×ÓhŠˆº¯q§ÔÂ»
Õ"@=BR¸‘HÔ«P¼âšËª¸°,9äz¿µJ4Ù¡Îü0ğOoafKöº¬Û¥õ÷ƒKÛÁÏÿ½²$Ó„£ıy¶6g=FĞ½üëŸŠ"ñ×Ffn/°ç §Ó—‰nª%aøşëv+–ètëpJ	™÷Sñ†O±^
èO¶½«öŞçW)I@”·³Ãv/¹H¹”\å]´ÿ/¥9ï¼êtÇŠ›pãWâäbï±/oØ¿üuºSÆ¹<QTÄ²$3ƒÿ³ZÁ~0‹½ ¼Èk	}ŞÌôŠ;ÕëìQ¤çŸlNV<Lß®ö´ş3¤º’yuQ1n>¿:Ù÷£ï¿†İİAty°Âê#oµæ5}´•Ob{‹5“gé¥şqß¯HN¼ÿ¾éå·^Ëqª\²`úAEls5cÑ£„ÿŠÿô[ø»¨&ô„şKÆØä.ú-å> ¶n)â?Z‚'ƒ†…D‘|*ZZÔ¢¤vã>ŸL¼Â,‘˜ˆ_ÜgêÁ[²äCıÚÊb5oJÉ®×‡ì¤˜…“ÍËáƒ½ä4vşÕMÆaÕh•’ç¾ÔñŸ…\±ê˜à,mŸÉk3Òš¾:²W6rA¾BÊyŒ?*Ïw^8Q6çcÔ1-!…1©§(GôÔMWKĞÒëTUµ ›‘¦±m%e‹›Çî&ûWaøÊ:( í`+Ú²Ï¢ØµÒ»wBûMÔ?z†›šO¯ş‹rYhoşöX´C0·-÷ùûœÈ÷›òr”Cì;ñ•Vàúè9ÙgX3â8{+±î{E÷±Ÿs5ÕÑR…¼RS_èk,	Á—ˆâ×Ù;¦4ÆMŞ¼4fL'ß­rÎSEÎşæ» ~D¼s]aİÿrÍ’ëğå.”\QÍæ÷€\¨=£eÀõ²$ã¾Ö‹0D™ö'ÎUIVë„Y?3T/`v¤p|İN¦£İŒ£Óç­ø€ò@~v­Ÿ:äl·ÅÃvË+RƒÍÁúµÎ5T<®»u±&Ë×Å_õ2