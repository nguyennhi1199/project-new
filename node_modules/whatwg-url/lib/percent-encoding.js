template>

	<xsl:template name="BibDisplayStateProvinceBook">
		<xsl:variable name="cStateProvince">
			<xsl:value-of select="count(b:StateProvince)"/>
		</xsl:variable>
		<xsl:variable name="cPublisher">
			<xsl:value-of select="count(b:Publisher)"/>
		</xsl:variable>
		<xsl:variable name="cYear">
			<xsl:value-of select="count(b:Year)"/>
		</xsl:variable>
		<xsl:variable name="cPages">
			<xsl:value-of select="count(b:Pages)"/>
		</xsl:variable>
		<xsl:choose>
			<xsl:when test ="$cStateProvince!=0">
				<xsl:value-of select="b:StateProvince"/>
				<xsl:choose>
					<xsl:when test="$cPublisher>0">
						<xsl:call-template name ="templ_prop_EnumSeparator"/>
						<xsl:call-template name ="templ_prop_Space"/>
					</xsl:when>
					<xsl:when test="$cPublisher=0 and ($cYear!=0 or $cPages!=0)">
						<xsl:call-template name ="templ_prop_ListSeparator"/>
					</xsl:when>
					<xsl:when test="$cPublisher=0 and $cYear=0 and $cPages=0 " >
						<xsl:call-template name ="templ_prop_Dot"/>
					</xsl:when>
				</xsl:choose>
			</xsl:when>
		</xsl:choose>
	</xsl:template>

	<xsl:template name="BibDisplayStateProvinceBC">
		<xsl:variable name="cStateProvince">
			<xsl:value-of select="count(b:StateProvince)"/>
		</xsl:variable>
		<xsl:variable name="cPublisher">
			<xsl:value-of select="count(b:Publisher)"/>
		</xsl:variable>
		<xsl:variable name="cYear">
			<xsl:value-of select="count(b:Year)"/>
		</xsl:variable>
		<xsl:variable name="cPages">
			<xsl:value-of select="count(b:Pages)"/>
		</xsl:variable>
		<xsl:choose>
			<xsl:when test ="$cStateProvince!=0">
				<xsl:value-of select="b:StateProvince"/>
				<xsl:choose>
					<xsl:when test="$cPublisher>0">
						<xsl:call-template name ="templ_prop_EnumSeparator"/>
						<xsl:call-template name ="templ_prop_Space"/>
					</xsl:when>
					<xsl:when test="$cPublisher=0 and ($cYear!=0 or $cPages!=0)">
						<xsl:call-template name ="templ_prop_ListSeparator"/>
					</xsl:when>
					<xsl:when test="$cPublisher=0 and $cYear=0 and $cPages=0 " >
						<xsl:call-template name ="templ_prop_Dot"/>
					</xsl:when>
				</xsl:choose>
			</xsl:when>
		</xsl:choose>
	</xsl:template>

	<xsl:template name="BibDisplayYearBC">
		<xsl:variable name="cYear">
			<xsl:value-of select="count(b:Year)"/>
		</xsl:variable>
		<xsl:variable name="cPages">
			<xsl:value-of select="count(b:Pages)"/>
		</xsl:variable>
		<xsl:choose>
			<xsl:when test ="$cYear=1">
				<xsl:value-of select = "b:Year"/>

				<xsl:choose>

					<xsl:when test="$cPages>0">
						<xsl:call-template name ="templ_prop_ListSeparator"/>
					</xsl:when>
					<xsl:otherwise>

						<xsl:call-template name ="templ_prop_Dot"/>
					</xsl:otherwise>

				</xsl:choose>


			</xsl:when>
		</xsl:choose>
		<xsl:call-template name="templ_prop_Space"/>
	</xsl:template>

	<xsl:template name="BibDisplayCityBookSection">
		<xsl:variable name="cCity">
			<xsl:value-of select="count(b:City)"/>
		</xsl:variable>
		<xsl:variable name="cPublisher">
			<xsl:value-of select="count(b:Publisher)"/>
		</xsl:variable>
		<xsl:variable name="cStateProvince">
			<xsl:value-of select="count(b:StateProvince)"/>
		</xsl:variable>
		<xsl:variable name="cYear">
			<xsl:value-of select="count(b:Year)"/>
		</xsl:variable>
		<xsl:variable name="cPages">
			<xsl:value-of select="count(b:Pages)"/>
		</xsl:variable>
		<xsl:choose>
			<xsl:when test ="$cCity!=0">
				<xsl:value-of select="b:City"/>
				<xsl:choose>
					<xsl:when test="$cPublisher!=0 or $cStateProvince!=0 or $cYear!=0 or $cPages!=0 " >
						<xsl:call-template name ="templ_prop_ListSeparator"/>
					</xsl:when>
					<xsl:when test="$cPublisher=0 and $cStateProvince=0 and $cYear=0 and $cPages=0 " >
						<xsl:call-template name ="templ_prop_Dot"/>
					</xsl:when>

				</xsl:choose>
			</xsl:when>
		</xsl:choose>

	</xsl:template>

	<xsl:template name="BibDisplayCity">
		<xsl:variable name="cCity">
			<xsl:value-of select="count(b:City)"/>
		</xsl:variable>
		<xsl:variable name="cPublisher">
			<xsl:value-of select="count(b:Publisher)"/>
		</xsl:variable>
		<xsl:variable name="cStateProvince">
			<xsl:value-of select="count(b:StateProvince)"/>
		</xsl:variable>
		<xsl:variable name="cYear">
			<xsl:value-of select="count(b:Year)"/>
		</xsl:variable>
		<xsl:variable name="cPages">
			<xsl:value-of select="count(b:Pages)"/>
		</xsl:variable>
		<xsl:choose>
			<xsl:when test ="$cCity!=0 ">
				<xsl:value-of select="b:City"/>
				<xsl:choose>
					<xsl:when test="$cPublisher!=0 and $cStateProvince=0">
						<xsl:call-template name ="templ_prop_EnumSeparator"/>
					</xsl:when>
					<xsl:when test="$cStateProvince!=0 or $cYear!=0 or $cPages!=0">
						<xsl:call-template name ="templ_prop_ListSeparator"/>
					</xsl:when>
					<xsl:when test